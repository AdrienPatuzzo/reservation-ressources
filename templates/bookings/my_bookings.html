{% extends "base.html" %}

{% block title %}Mes réservations{% endblock %}

{% block content %}
<h1 class="mb-4">Mes réservations</h1>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Ressource</th>
            <th>Début</th>
            <th>Fin</th>
            <th>Statut</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for booking in bookings %}
        <tr>
            <td>{{ booking.resource.name }}</td>
            <td>{{ booking.start_date }}</td>
            <td>{{ booking.end_date }}</td>
            <td>
                <span class="badge
                    {% if booking.status == 'CONFIRMED' %}
                        bg-success
                    {% elif booking.status == 'CANCELLED' %}
                        bg-danger
                    {% endif %}
                ">
                    {{ booking.get_status_display }}
                </span>
            </td>
            <td>
                {% if booking.status != "CANCELLED" %}
                    <a class="btn btn-sm btn-danger"
                       href="{% url 'cancel_booking' booking.id %}">
                       Annuler
                    </a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
